*{box-sizing:border-box}html,body{height:100%;margin:0}
body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial;background:#fff;color:#111;overflow:hidden}
#splash{position:fixed;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#fff;animation:fadeOut 1.1s ease 1.1s forwards;z-index:999}
.splash-logo{width:120px;height:120px;margin-bottom:8px;opacity:.95}
#splash h1{margin:0;font-weight:800}
#splash p{margin:4px 0 0;color:#666}
@keyframes fadeOut{to{opacity:0;visibility:hidden}}

#topbar{position:fixed;top:0;left:0;right:0;height:56px;background:#fff;display:flex;align-items:center;justify-content:space-between;padding:0 12px;z-index:10;border-bottom:1px solid #e5e7eb}
#topbar .left,#topbar .right{width:120px;display:flex;gap:8px}
#topbar .center{flex:1;text-align:center}
#topbar button{background:#111;color:#fff;border:0;padding:8px 12px;border-radius:8px;font-weight:800;cursor:pointer}
#colorBar{position:absolute;left:0;right:0;bottom:-2px;height:3px;background:#ddd}

#app{position:fixed;top:56px;left:0;right:0;bottom:0;background:#fff}

.screen{position:absolute;inset:0;display:flex;flex-direction:column;gap:12px;padding:16px;background:linear-gradient(180deg,#ffffff,rgba(255,255,255,.9));z-index:5}
.brand{display:flex;align-items:center;gap:12px}
.brand img{width:56px;height:56px}
.brand-title{font-weight:800}
.brand-sub{color:#4b5563}
.cards{display:flex;gap:12px;flex-wrap:wrap}
.card{display:flex;align-items:center;gap:10px;background:#f8fafc;border:2px solid #e5e7eb;color:#111;font-weight:800;border-radius:14px;padding:16px 18px;cursor:pointer}
.card .dot{width:16px;height:16px;border-radius:50%}
.note{color:#6b7280}
.hidden{display:none}

#mapViewport{position:absolute;inset:0;background:#fff}
#mapOuter{position:absolute;left:0;top:0;will-change:transform;transform:translate(0,0)}
#mapInner{position:absolute;left:0;top:0;transform-origin:0 0;will-change:transform}
#campusImg{position:absolute;left:0;top:0;user-select:none;-webkit-user-drag:none;pointer-events:none}
#markers{position:absolute;left:0;top:0}

.marker{position:absolute;transform:translate(-50%,-50%);background:#ffffff;border:2px solid #111;padding:6px 10px;border-radius:999px;font-weight:800;white-space:nowrap;cursor:pointer;box-shadow:0 2px 8px rgba(0,0,0,.08)}
.marker[data-level="Knee-level"]{border-color:#4CAF50}
.marker[data-level="Gutter-deep"]{border-color:#FFC107}
.marker[data-level="Half-tire"]{border-color:#F44336}

#zoomCtrls{position:absolute;right:12px;bottom:12px;display:flex;flex-direction:column;gap:8px;z-index:4}
#zoomCtrls button{background:#111;color:#fff;border:0;padding:10px 12px;border-radius:10px;font-weight:900;cursor:pointer}

#quickZoom{position:absolute;left:50%;transform:translateX(-50%);bottom:12px;display:flex;gap:10px;z-index:5;background:#fff;border:1px solid #e5e7eb;border-radius:14px;padding:10px 12px;box-shadow:0 8px 24px rgba(0,0,0,.10)}
#quickZoom .qz{background:#f3f4f6;border:2px solid #e5e7eb;border-radius:12px;padding:10px 14px;font-weight:800;cursor:pointer}
#quickZoom .qz:hover{background:#e5e7eb}
#quickZoom.hidden{display:none}

#tipModal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.35);z-index:99998}
#tipModal.hidden{display:none !important;}
.tip-card{width:min(520px,92%);background:#fff;color:#111;border-radius:14px;padding:18px;border:1px solid #e5e7eb;box-shadow:0 12px 30px rgba(0,0,0,.18)}
.tip-card h3{margin:0 0 8px 0;font-weight:800}
.tip-card ul{margin:8px 0 12px 18px;color:#333}
.tip-card li{margin:6px 0}
.tip-close{background:#111;color:#fff;border:0;padding:8px 14px;border-radius:8px;cursor:pointer;float:right}

#modal{position:fixed;inset:0;background:rgba(0,0,0,.35);display:flex;align-items:center;justify-content:center;z-index:99999}
#modal.hidden{display:none !important}
.modal-card{width:min(520px,92%);background:#fff;color:#111;border-radius:14px;padding:18px;display:flex;flex-direction:column;gap:10px;border:1px solid #e5e7eb;box-shadow:0 12px 30px rgba(0,0,0,.18);position:relative}
.modal-header{background:#fff;border-radius:10px 10px 0 0;padding:2px 2px 6px 2px}
.modal-card h3{margin:0;font-weight:800}
.modal-card .label{font-size:13px;color:#666;margin-top:2px}
.modal-card .level{font-size:22px;font-weight:800;margin-top:2px}
.modal-card .level-img{width:100%;height:auto;border:1px solid #e5e7eb;border-radius:10px;background:#fff}
.modal-actions{display:flex;justify-content:flex-end}
.modal-card button{background:#111;color:#fff;border:0;padding:8px 14px;border-radius:8px;cursor:pointer}
.modal-x{position:absolute;top:10px;right:10px;background:#111;color:#fff;border:0;border-radius:8px;padding:6px 10px;cursor:pointer}
