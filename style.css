*{box-sizing:border-box}html,body{height:100%;margin:0}
body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial;color:#fff;background:#0b0b0b;overflow:hidden}
#splash{position:fixed;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#0b0b0b;animation:fadeOut 1.2s ease 1.2s forwards;z-index:999}
.splash-logo{width:120px;height:120px;opacity:.95;margin-bottom:8px}
#splash h1{margin:0;font-weight:800}
#splash p{margin:4px 0 0;color:#bbb}
@keyframes fadeOut{to{opacity:0;visibility:hidden}}

#topbar{position:fixed;top:0;left:0;right:0;height:56px;background:#222;display:flex;align-items:center;justify-content:space-between;padding:0 12px;z-index:10}
#topbar .left,#topbar .right{width:120px;display:flex;gap:8px}
#topbar .center{flex:1;text-align:center}
#topbar button{background:#fff;color:#111;border:0;padding:8px 12px;border-radius:8px;font-weight:800;cursor:pointer}
#topbar #advisoryLabel{color:#fff}

#app{position:fixed;top:56px;left:0;right:0;bottom:0}

.screen{position:absolute;inset:0;display:flex;flex-direction:column;gap:12px;padding:16px;background:linear-gradient(180deg,#0b0b0b,rgba(0,0,0,.9));z-index:5}
.brand{display:flex;align-items:center;gap:12px}
.brand img{width:56px;height:56px}
.brand-title{font-weight:800}
.brand-sub{color:#9aa0a6}
.cards{display:flex;gap:12px;flex-wrap:wrap}
.card{display:flex;align-items:center;gap:10px;background:#121212;border:2px solid #333;color:#fff;font-weight:800;border-radius:14px;padding:16px 18px;cursor:pointer}
.card .dot{width:16px;height:16px;border-radius:50%}
.note{color:#9aa0a6}
.hidden{display:none}

#mapViewport{position:absolute;inset:0;background:#000}
#mapOuter{position:absolute;left:0;top:0;will-change:transform;transform:translate(0,0)}
#mapInner{position:absolute;left:0;top:0;transform-origin:0 0;will-change:transform}
#campusImg{position:absolute;left:0;top:0;user-select:none;-webkit-user-drag:none;pointer-events:none}
#markers{position:absolute;left:0;top:0}

.marker{position:absolute;width:32px;height:32px;border-radius:16px;border:3px solid #9e9e9e;background:rgba(255,255,255,.92);display:flex;align-items:center;justify-content:center;font-weight:900;color:#111;cursor:pointer;user-select:none}
.marker[data-level="Knee-level"]{border-color:#4CAF50}
.marker[data-level="Gutter-deep"]{border-color:#FFC107}
.marker[data-level="Half-tire"]{border-color:#F44336}

#zoomCtrls{position:absolute;right:12px;bottom:12px;display:flex;flex-direction:column;gap:8px;z-index:4}
#zoomCtrls button{background:rgba(255,255,255,.92);color:#111;border:0;padding:10px 12px;border-radius:10px;font-weight:900;cursor:pointer}

#sidebar{position:fixed;right:0;top:56px;width:320px;bottom:0;background:#101010;border-left:1px solid #222;transform:translateX(320px);transition:transform .25s ease;z-index:9;display:flex;flex-direction:column}
#sidebar.open{transform:translateX(0)}
.legend-header{width:100%;height:60px;object-fit:contain;margin-top:6px}
.legend-scroll{padding:0 12px 16px 12px;overflow:auto}
#sidebar h3{margin:10px 0 4px 0}
#sidebar ol{margin:0 0 10px 18px}
#sidebar li{color:#cfd3d7;margin-top:4px;font-size:13px}

#modal{position:fixed;inset:0;background:rgba(0,0,0,.45);display:flex;align-items:center;justify-content:center;z-index:11}
#modal.hidden{display:none}
.modal-card{width:min(480px,90%);background:#fff;color:#111;border-radius:14px;padding:18px;display:flex;flex-direction:column;gap:8px}
.modal-card h3{margin:0;font-weight:800}
.modal-card .label{font-size:13px;color:#666}
.modal-card .level{font-size:22px;font-weight:800;margin-top:6px}
.modal-card button{align-self:flex-end;background:#111;color:#fff;border:0;padding:8px 14px;border-radius:8px;cursor:pointer}
